{"ast":null,"code":"\n// import React, { useState, useEffect } from 'react';\n// import { useParams, useNavigate,Link } from 'react-router-dom';\n// import UserService from '../service/UserService';\n\n// function UpdateUser() {\n//   const navigate = useNavigate();\n//   const { userId } = useParams();\n\n//   const [userData, setUserData] = useState({\n//     name: '',\n//     email: '',\n//     role: '',\n//     city: ''\n//   });\n// //hy\n//   useEffect(() => {\n//     fetchUserDataById(userId); // Pass the userId to fetchUserDataById\n//   }, [userId]); //wheen ever there is a chane in userId, run this\n\n//   const fetchUserDataById = async (userId) => {\n//     try {\n//       const token = localStorage.getItem('token');\n//       const response = await UserService.getUserById(userId, token); // Pass userId to getUserById\n//       const { name, email, role, city } = response.ourUsers;\n//       setUserData({ name, email, role, city });\n//     } catch (error) {\n//       console.error('Error fetching user data:', error);\n//     }\n//   };\n\n//   const handleInputChange = (e) => {\n//     const { name, value } = e.target;\n//     setUserData((prevUserData) => ({\n//       ...prevUserData,\n//       [name]: value\n//     }));\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     try {\n//       const confirmDelete = window.confirm('Are you sure you want to delete this user?');\n//       if (confirmDelete) {\n//         const token = localStorage.getItem('token');\n//         const res = await UserService.updateUser(userId, userData, token);\n//         console.log(res)\n//         // Redirect to profile page or display a success message\n//         navigate(\"/admin/user-management\")\n//       }\n\n//     } catch (error) {\n//       console.error('Error updating user profile:', error);\n//       alert(error)\n//     }\n//   };\n\n//   return (\n//     <div className=\"auth-container\">\n//       <h2>Update User</h2>\n//       <form onSubmit={handleSubmit}>\n//         <div className=\"form-group\">\n//           <label>Name:</label>\n//           <input type=\"text\" name=\"name\" value={userData.name} onChange={handleInputChange} />\n//         </div>\n//         <div className=\"form-group\">\n//           <label>Email:</label>\n//           <input type=\"email\" name=\"email\" value={userData.email} onChange={handleInputChange} />\n//         </div>\n//         <div className=\"form-group\">\n//           <label>Role:</label>\n//           <input type=\"text\" name=\"role\" value={userData.role} onChange={handleInputChange} />\n//         </div>\n//         <div className=\"form-group\">\n//           <label>City:</label>\n//           <input type=\"text\" name=\"city\" value={userData.city} onChange={handleInputChange} />\n//         </div>\n//         <button type=\"submit\">Update</button>\n//         <br/>\n//         <Link to=\"/profile\" style={{ color: 'blue', fontWeight: 'bold', textDecoration: 'underline' }}>Back to profile</Link>\n//       </form>\n//     </div>\n//   );\n// }\n\n// export default UpdateUser;","map":{"version":3,"names":[],"sources":["E:/E-COMMERCE NEW/E-commerce-frontend-main/src/components/userspage/UpdateUser.jsx"],"sourcesContent":["\r\n// import React, { useState, useEffect } from 'react';\r\n// import { useParams, useNavigate,Link } from 'react-router-dom';\r\n// import UserService from '../service/UserService';\r\n\r\n// function UpdateUser() {\r\n//   const navigate = useNavigate();\r\n//   const { userId } = useParams();\r\n\r\n\r\n//   const [userData, setUserData] = useState({\r\n//     name: '',\r\n//     email: '',\r\n//     role: '',\r\n//     city: ''\r\n//   });\r\n// //hy\r\n//   useEffect(() => {\r\n//     fetchUserDataById(userId); // Pass the userId to fetchUserDataById\r\n//   }, [userId]); //wheen ever there is a chane in userId, run this\r\n\r\n//   const fetchUserDataById = async (userId) => {\r\n//     try {\r\n//       const token = localStorage.getItem('token');\r\n//       const response = await UserService.getUserById(userId, token); // Pass userId to getUserById\r\n//       const { name, email, role, city } = response.ourUsers;\r\n//       setUserData({ name, email, role, city });\r\n//     } catch (error) {\r\n//       console.error('Error fetching user data:', error);\r\n//     }\r\n//   };\r\n\r\n\r\n//   const handleInputChange = (e) => {\r\n//     const { name, value } = e.target;\r\n//     setUserData((prevUserData) => ({\r\n//       ...prevUserData,\r\n//       [name]: value\r\n//     }));\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     try {\r\n//       const confirmDelete = window.confirm('Are you sure you want to delete this user?');\r\n//       if (confirmDelete) {\r\n//         const token = localStorage.getItem('token');\r\n//         const res = await UserService.updateUser(userId, userData, token);\r\n//         console.log(res)\r\n//         // Redirect to profile page or display a success message\r\n//         navigate(\"/admin/user-management\")\r\n//       }\r\n\r\n//     } catch (error) {\r\n//       console.error('Error updating user profile:', error);\r\n//       alert(error)\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"auth-container\">\r\n//       <h2>Update User</h2>\r\n//       <form onSubmit={handleSubmit}>\r\n//         <div className=\"form-group\">\r\n//           <label>Name:</label>\r\n//           <input type=\"text\" name=\"name\" value={userData.name} onChange={handleInputChange} />\r\n//         </div>\r\n//         <div className=\"form-group\">\r\n//           <label>Email:</label>\r\n//           <input type=\"email\" name=\"email\" value={userData.email} onChange={handleInputChange} />\r\n//         </div>\r\n//         <div className=\"form-group\">\r\n//           <label>Role:</label>\r\n//           <input type=\"text\" name=\"role\" value={userData.role} onChange={handleInputChange} />\r\n//         </div>\r\n//         <div className=\"form-group\">\r\n//           <label>City:</label>\r\n//           <input type=\"text\" name=\"city\" value={userData.city} onChange={handleInputChange} />\r\n//         </div>\r\n//         <button type=\"submit\">Update</button>\r\n//         <br/>\r\n//         <Link to=\"/profile\" style={{ color: 'blue', fontWeight: 'bold', textDecoration: 'underline' }}>Back to profile</Link>\r\n//       </form>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default UpdateUser;\r\n"],"mappings":";AACA;AACA;AACA;;AAEA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}