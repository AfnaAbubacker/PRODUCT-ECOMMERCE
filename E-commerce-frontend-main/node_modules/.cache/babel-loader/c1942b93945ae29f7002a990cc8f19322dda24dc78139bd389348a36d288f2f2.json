{"ast":null,"code":"import axios from \"axios\";\nclass UserService {\n  static async login(email, password) {\n    try {\n      const response = await axios.post(`${UserService.BASE_URL}/auth/login`, {\n        email,\n        password\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async register(userData, token) {\n    try {\n      const response = await axios.post(`${UserService.BASE_URL}/auth/register`, userData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getAllUsers(token) {\n    try {\n      const response = await axios.get(`${UserService.BASE_URL}/admin/get-all-users`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getYourProfile(token) {\n    try {\n      const response = await axios.get(`${UsersService.BASE_URL}/adminuser/get-profile`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getUserById(userId, token) {\n    try {\n      const response = await axios.get(`${UsersService.BASE_URL}/admin/get-users/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async deleteUserById(userId, token) {\n    try {\n      const response = await axios.delete(`${UsersService.BASE_URL}/admin/delete/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async updateUser(userId, userData, token) {\n    try {\n      const response = await axios.put(`${UsersService.BASE_URL}/admin/update/${userId}`, userData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /*AUTHENTICATION CHECKER*/\n\n  static logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('role');\n  }\n  static isAuthenticated() {\n    const token = localStorage.getItem('token');\n    return !!token;\n  }\n  static isAdmin() {\n    const role = localStorage.getItem('role');\n    return role === \"ADMIN\";\n  }\n  static isUser() {\n    const role = localStorage.getItem('role');\n    return role === \"USER\";\n  }\n  static adminOnly() {\n    return this.isAuthenticated() && this.isAdmin();\n  }\n}\nUserService.BASE_URL = \"http://localhost:1010\";\nexport default UserService;","map":{"version":3,"names":["axios","UserService","login","email","password","response","post","BASE_URL","data","error","register","userData","token","headers","Authorization","getAllUsers","get","getYourProfile","UsersService","getUserById","userId","deleteUserById","delete","updateUser","put","logout","localStorage","removeItem","isAuthenticated","getItem","isAdmin","role","isUser","adminOnly"],"sources":["E:/User_management_Project/user_management_frontend/src/components/service/UserService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n class UserService{\r\n        static BASE_URL = \"http://localhost:1010\";\r\n\r\n        static async login(email, password){\r\n            try{\r\n\r\n                const response = await axios.post(`${UserService.BASE_URL}/auth/login`, {email, password})\r\n                return response.data;\r\n\r\n            }catch(error){\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        static async register(userData, token){\r\n            try{\r\n\r\n                const response = await axios.post(`${UserService.BASE_URL}/auth/register`, userData,\r\n                    {\r\n                        headers:{Authorization: `Bearer ${token}`}\r\n                    })\r\n                return response.data;\r\n\r\n            }catch(error){\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        static async getAllUsers(token){\r\n            try{\r\n\r\n                const response = await axios.get(`${UserService.BASE_URL}/admin/get-all-users`,\r\n                    {\r\n                        headers:{Authorization: `Bearer ${token}`}\r\n                    })\r\n                return response.data;\r\n\r\n            }catch(error){\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        static async getYourProfile(token){\r\n            try{\r\n\r\n                const response = await axios.get(`${UsersService.BASE_URL}/adminuser/get-profile`,\r\n                    {\r\n                        headers:{Authorization: `Bearer ${token}`}\r\n                    })\r\n                return response.data;\r\n\r\n            }catch(error){\r\n                throw error;\r\n            }\r\n        }\r\n\r\n        static async getUserById(userId, token){\r\n            try{\r\n\r\n                const response = await axios.get(`${UsersService.BASE_URL}/admin/get-users/${userId}`,\r\n                    {\r\n                        headers:{Authorization: `Bearer ${token}`}\r\n                    })\r\n                return response.data;\r\n\r\n            }catch(error){\r\n                throw error;\r\n            }\r\n        }\r\n\r\n\r\n        static async deleteUserById(userId, token){\r\n            try{\r\n\r\n                const response = await axios.delete(`${UsersService.BASE_URL}/admin/delete/${userId}`,\r\n                    {\r\n                        headers:{Authorization: `Bearer ${token}`}\r\n                    })\r\n                return response.data;\r\n\r\n            }catch(error){\r\n                throw error;\r\n            }\r\n        }\r\n\r\n\r\n        static async updateUser(userId, userData, token){\r\n            try{\r\n\r\n                const response = await axios.put(`${UsersService.BASE_URL}/admin/update/${userId}`,userData,\r\n                    {\r\n                        headers:{Authorization: `Bearer ${token}`}\r\n                    })\r\n                return response.data;\r\n\r\n            }catch(error){\r\n                throw error;\r\n            }\r\n        }\r\n\r\n\r\n        /*AUTHENTICATION CHECKER*/\r\n\r\n        static logout(){\r\n            localStorage.removeItem('token')\r\n            localStorage.removeItem('role')\r\n\r\n        }\r\n\r\n        static isAuthenticated(){\r\n            const token = localStorage.getItem('token')\r\n            return !!token\r\n        }\r\n\r\n        static isAdmin(){\r\n            const role = localStorage.getItem('role')\r\n            return role === \"ADMIN\"\r\n        }\r\n\r\n        static isUser(){\r\n            const role = localStorage.getItem('role')\r\n            return role === \"USER\"\r\n        }\r\n\r\n        static adminOnly(){\r\n            return this.isAuthenticated() && this.isAdmin();\r\n\r\n        }\r\n }\r\n\r\n export default UserService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}