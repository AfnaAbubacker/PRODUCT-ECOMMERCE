{"ast":null,"code":"import axios from \"axios\";\nclass UserService {\n  static async login(email, password) {\n    try {\n      const response = await axios.post(`${UserService.BASE_URL}/auth/login`, {\n        email,\n        password\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async register(userData) {\n    try {\n      const response = await axios.post(`${UserService.BASE_URL}/auth/register`, userData);\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getAllUsers(token) {\n    try {\n      const response = await axios.get(`${UserService.BASE_URL}/admin/get-all-users`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getYourProfile(token) {\n    try {\n      const response = await axios.get(`${UserService.BASE_URL}/adminuser/get-profile`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async getUserById(userId, token) {\n    try {\n      const response = await axios.get(`${UserService.BASE_URL}/auth/get-users/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async deleteUserById(userId, token) {\n    try {\n      const response = await axios.delete(`${UserService.BASE_URL}/admin/delete/${userId}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n  static async updateUser(userId, userData, token) {\n    try {\n      const response = await axios.put(`${UserService.BASE_URL}/auth/update/${userId}`, userData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw error;\n    }\n  }\n\n  /*AUTHENTICATION CHECKER*/\n\n  static logout() {\n    localStorage.removeItem('token');\n    localStorage.removeItem('role');\n  }\n  static isAuthenticated() {\n    const token = localStorage.getItem('token');\n    return !!token;\n  }\n  static isAdmin() {\n    const role = localStorage.getItem('role');\n    return role === \"ADMIN\";\n  }\n  static isUser() {\n    const role = localStorage.getItem('role');\n    return role === \"USER\";\n  }\n  static adminOnly() {\n    return this.isAuthenticated() && this.isAdmin();\n  }\n}\nUserService.BASE_URL = \"http://localhost:8080\";\nexport default UserService;","map":{"version":3,"names":["axios","UserService","login","email","password","response","post","BASE_URL","data","error","register","userData","getAllUsers","token","get","headers","Authorization","getYourProfile","getUserById","userId","deleteUserById","delete","updateUser","put","logout","localStorage","removeItem","isAuthenticated","getItem","isAdmin","role","isUser","adminOnly"],"sources":["E:/E-COMMERCE NEW/E-commerce-frontend-main/src/components/service/UserService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nclass UserService {\r\n    static BASE_URL = \"http://localhost:8080\";\r\n\r\n    static async login(email, password) {\r\n        try {\r\n\r\n            const response = await axios.post(`${UserService.BASE_URL}/auth/login`, { email, password })\r\n            return response.data;\r\n\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n\r\n    static async register(userData) {\r\n        try {\r\n            const response = await axios.post(`${UserService.BASE_URL}/auth/register`, userData)\r\n            return response.data;\r\n\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n    \r\n\r\n    static async getAllUsers(token) {\r\n        try {\r\n\r\n            const response = await axios.get(`${UserService.BASE_URL}/admin/get-all-users`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                })\r\n            return response.data;\r\n\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    static async getYourProfile(token) {\r\n        try {\r\n\r\n            const response = await axios.get(`${UserService.BASE_URL}/adminuser/get-profile`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                }\r\n            )\r\n            return response.data;\r\n\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    static async getUserById(userId, token) {\r\n        try {\r\n\r\n            const response = await axios.get(`${UserService.BASE_URL}/auth/get-users/${userId}`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                })\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n\r\n    static async deleteUserById(userId, token) {\r\n        try {\r\n\r\n            const response = await axios.delete(`${UserService.BASE_URL}/admin/delete/${userId}`,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                })\r\n            return response.data;\r\n\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n\r\n    static async updateUser(userId, userData, token) {\r\n        try {\r\n\r\n            const response = await axios.put(`${UserService.BASE_URL}/auth/update/${userId}`, userData,\r\n                {\r\n                    headers: { Authorization: `Bearer ${token}` }\r\n                })\r\n            return response.data;\r\n\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /*AUTHENTICATION CHECKER*/\r\n\r\n    static logout() {\r\n        localStorage.removeItem('token')\r\n        localStorage.removeItem('role')\r\n\r\n    }\r\n\r\n    static isAuthenticated() {\r\n        const token = localStorage.getItem('token')\r\n        return !!token\r\n    }\r\n\r\n    static isAdmin() {\r\n        const role = localStorage.getItem('role')\r\n        return role === \"ADMIN\"\r\n    }\r\n\r\n    static isUser() {\r\n        const role = localStorage.getItem('role')\r\n        return role === \"USER\"\r\n    }\r\n\r\n    static adminOnly() {\r\n        return this.isAuthenticated() && this.isAdmin();\r\n\r\n    }\r\n}\r\n\r\nexport default UserService;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}